{% extends base_template %}

{% block title %}Log in with your OpenID{% endblock %}

{% block extra_head %}
<style type="text/css">
input.openid {
  background: url({{ logo }}) no-repeat;
  background-position: 0 50%;
  padding-left: 16px;
  width: 20em;
}
</style>
<script type="text/javascript" src="{{ MEDIA_URL }}js/openid_selector.js"></script>
{% endblock %}

{% block content %}
<h2>Log in</h2>

{% if message %}
<p>{{ message }}</p>
{% endif %}

<h3>With your OpenID</h3>
<h4>Click on the provider you registered with. No need to enter a password here!</h4>
<form action="{{ action }}" method="post">{% csrf_token %}
<table>
  <tr>
    <td>
      <a href="#" onclick="fillEndPoint('google');"><img src="{{ MEDIA_URL }}images/openid_providers/google.png" /></a>
      <a href="#" onclick="fillEndPoint('yahoo');"><img src="{{ MEDIA_URL }}images/openid_providers/yahoo.png" /></a>
      <a href="#" onclick="fillEndPoint('blogger');"><img src="{{ MEDIA_URL }}images/openid_providers/blogger.png" /></a>
      <a href="#" onclick="fillEndPoint('flickr');"><img src="{{ MEDIA_URL }}images/openid_providers/flickr.png" /></a>
      <a href="#" onclick="fillEndPoint('wordpress');"><img src="{{ MEDIA_URL }}images/openid_providers/wordpress.png" /></a>
      <a href="#" onclick="fillEndPoint('myspace');"><img src="{{ MEDIA_URL }}images/openid_providers/myspace.png" /></a>
      <a href="#" onclick="fillEndPoint('lj');"><img src="{{ MEDIA_URL }}images/openid_providers/livejournal.png" /></a>
      <a href="#" onclick="fillEndPoint('aol');"><img src="{{ MEDIA_URL }}images/openid_providers/aol.png" /></a>
      <a href="#" onclick="fillEndPoint('openid');"><img src="{{ MEDIA_URL }}images/openid_providers/openid.png" /></a>
    </td>
  </tr>
  <tr>
    {% if next %}  
    <td><input type="hidden" name="next" value="{{ next }}"></td>
    {% endif %}    
    <td>
      <h4 id="infoMsg" style="color: red;"></h4>
      <input class="openid" id="openid_url" type="text" name="openid_url">
      <input type="submit" value="Log in with OpenID">
    </td>
  </tr>
</table>
</form>
{% endblock %}
